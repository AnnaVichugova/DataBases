#############################ячейка №1 в Google Colab - установка библиотек и импорт модулей######################## 
!pip install Faker

import random
import datetime
from faker import Faker
from google.colab import files

from faker.providers.address.ru_RU import Provider

#############################ячейка №2 в Google Colab - скрипт наполнения случайными данными таблицы-справочника из ограниченного количества значений и ссылкой на внешний ключ
# задаем название таблицы
table_name = 'product'

# задаем столбцы таблицы
column_names = ('id', 'name', 'provider', 'price', 'quantity')

#создаем список данных - справочник значений
products = ['яблоки желтые', 'малина', 'вода', 'хлеб белый','хлеб серый', 'креветки', 'форель', 'апельсины', 'кета','курица','яйцо перепелиное','яйцо куриное','лаваш',
            'булка сдобная','булка сахарная','помидоры бакинские','помидоры чери','огурцы','перец сладкий','перец острый','перец болгарский','мандарины','укроп свежий',
            'укроп сушеный','клубника свежая','клубника мороженная','мороженое','картошка','морковь', 'свекла','пангасиус','семга','кальмар замороженный','горошек зеленый',
            'смородина черная','смородина красная','соль поваренная пищевая йодированная','чай черный байховый','чай зеленый','чай красный','кофе','кофе с молоком','какао',
            'молоко','кефир','сыр с плесенью','сыр плавленый','сыр твердый','сыр мягкий','яблоки красные','яблоки зеленые','яблоки сушеные','икра красная',
            'икра черная','икра заморская баклажанная','масло сливочное','масло оливковое','масло подсолнечное','масло кокосовое','орех грецкий','орех бразильский',
            'лист лавровый','куркума','кукуруза','печенье сладкое','пряники сдобные','тесто слоеное','варенц','ряженка','снежок','шоколад молочный']

# задаем количество строк таблицы, которое хотим заполнить - для таблицы-справочника это количество значений списка данных
k = len(products)

# генерация и запись DML-скрипта в файл
filename = f'{table_name}.sql' # формируем название выходного файла
with open(filename, 'w') as f: #открытие файла для записи
    # формируем строку с названиями столбцов
    columns_str = ', '.join(f'"{column}"' for column in column_names)
    for i in range(k):
        # генерируем значения для каждого столбца       
        name=f"'{random.choice(products)}'" #выбираем случайный товар из ограниченного списка
        provider=fake.random_int(min=1, max=100) #генерируем случайное значение внешнего ключа
        price=round(fake.pyfloat(right_digits=2, min_value=0, max_value=3000), 2) #генерируем для суммы денег за товар случайное вещественное число от 0 до 3000 с двумя знаками после запятой  
        quantity=fake.random_int(min=1, max=15) #генерируем случайное значение количества товара (на складе))
        # формируем список со значениями
        values = [i+1, name, provider, price, quantity]
        # формируем строку со значениями
        values_str = ', '.join(str(value) for value in values)
        # формируем и записываем DML-запрос в файл
        insert_query = f'INSERT INTO "{table_name}" ({columns_str}) VALUES ({values_str});\n'
        print(insert_query) #вывод на консоль - для проверки и отладки
        f.write(insert_query) #запись в файл
    f.close() #закрытие файла

# Скачиваем файл на локальную машину
files.download(filename)
